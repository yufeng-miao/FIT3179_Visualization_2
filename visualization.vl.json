{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": "Program languages used in Australia",
  "vconcat": [
    {
      "width": 800,
      "height": 600,
      "title": "Program language used in Australia",
      "projection": {
        "type": "mercator"
      },
      "layer": [
        {
          "data": {
            "url": "https://raw.githubusercontent.com/yufeng-miao/FIT3179_Visualization_2/master/SA4_2021_AUST_GDA2020.json",
            "format": {
              "type": "topojson",
              "feature": "SA4_2021_AUST_GDA2020"
            }
          },
          "mark": {
            "type": "geoshape",
            "fill": "#ffdead",
            "stroke": "white"
          }
        },
        {
      "data": {"url": "https://raw.githubusercontent.com/yufeng-miao/FIT3179_Visualization_2/master/listings_used.csv"},
      "encoding": {
        "longitude": {"field": "longitude", "type": "quantitative"},
        "latitude": {"field": "latitude", "type": "quantitative"}
      },
      "layer": [
        {"mark": {"type": "circle", "color": "white","opacity":0}},
        {
          "mark": {"type": "text", "dx": -25,"dy":-10},
          "encoding": {"text": {"field": "city", "type": "nominal"}}
        }
      ]
    },
        {
          "data": {
            "url": "https://raw.githubusercontent.com/yufeng-miao/FIT3179_Visualization_2/master/listings_used.csv"
          },
          "mark": {
            "type": "circle"
          },

          "encoding": {
            "color": {
              "condition": {
            "param": "brush",
                "title": "Program Language",
                "field": "ProgramLanguage",
                "type": "nominal",
                "scale": {
                  "domain": [
                    "R",
                    "Python",
                    "SQL",
                    "Scala",
                    "Tableau",
                    "Hadoop",
                    "SAS",
                    "Spark",
                    "Java",
                    "C",
                    "Matlab",
                    "Others"
                  ],
                  "range": [
                    "#ADD8E6",
                    "#F08080",
                    "#E0FFFF",
                    "#FAFAD2",
                    "#D3D3D3",
                    "#90EE90",
                    "#FFB6C1",
                    "#FFA07A",
                    "#20B2AA",
                    "#87CEFA",
                    "#8470FF",
                    "#778899"
                  ]
                }
              },
              "value": "lightgray"

            },
            "longitude": {
              "field": "longitude",
              "type": "quantitative"
            },
            "latitude": {
              "field": "latitude",
              "type": "quantitative"
            },
            "tooltip": [
      {"field": "city", "type": "ordinal", "title": "City"},
      {"field": "NumberofPositions", "type": "quantitative", "title": "Number of Positions"},
      {"field": "ProgramLanguage", "type": "ordinal", "title": "Language"}
    ],
            "size": {
              "title": "Number of Positions",
              "field": "NumberofPositions",
              "type": "quantitative",
              "scale": {
                "type": "threshold",
                "domain": [
                  10,
                  30,
                  50,
                  100,
                  200,
                  300
                ],
                "range": [
                  50,
                  150,
                  300,
                  500,
                  700,
                  900,
                  1200
                ]
              }
            }
          },
      "params": [{
        "name": "brush",
        "select": "interval"
      }],
      "transform": [{"filter": {"param": "click"}}]
        }
      ]
    },

    {
      "data": {
        "url": "https://raw.githubusercontent.com/yufeng-miao/FIT3179_Visualization_2/master/listings_used.csv"
      },
      "encoding": {
        "color": {
          "condition": {
            "param": "click",
            "field": "ProgramLanguage",
            "scale": {
              "domain": [
                "R",
                "Python",
                "SQL",
                "Scala",
                "Tableau",
                "Hadoop",
                "SAS",
                "Spark",
                "Java",
                "C",
                "Matlab",
                "Others"
              ],
              "range": [
                "#ADD8E6",
                "#F08080",
                "#E0FFFF",
                "#FAFAD2",
                "#D3D3D3",
                "#90EE90",
                "#FFB6C1",
                "#FFA07A",
                "#20B2AA",
                "#87CEFA",
                "#8470FF",
                "#778899"
              ]
            }
          },
          "value": "lightgray"
        },
        "x": {"title": "Number of Positions","field": "NumberofPositions", "aggregate":"sum"},
        "y": {"title": "Program Language", "field": "ProgramLanguage"}
      },
      "width": 800,

      "mark": "bar",

    "params": [{
        "name": "click",
        "select": {"type": "point", "encodings": ["color"]}
      }],
      "transform": [{"filter": {"param": "brush"}}]


    }





  ],
  "config": {}
}